<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Programmiersprache R | R Workshop - Sozialwissenschaften</title>
  <meta name="description" content="Einführung in R" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Programmiersprache R | R Workshop - Sozialwissenschaften" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Einführung in R" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Programmiersprache R | R Workshop - Sozialwissenschaften" />
  
  <meta name="twitter:description" content="Einführung in R" />
  

<meta name="author" content="Yannick Diehl und Daniel Moosdorf" />


<meta name="date" content="2022-05-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rstudio.html"/>
<link rel="next" href="datenverarbeitung.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Workshop</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Vorwort</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#voraussetzungen"><i class="fa fa-check"></i><b>0.1</b> Voraussetzungen</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#warum-r"><i class="fa fa-check"></i><b>0.2</b> Warum R?</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#was-ist-r"><i class="fa fa-check"></i><b>0.3</b> Was ist R?</a></li>
<li class="chapter" data-level="0.4" data-path="index.html"><a href="index.html#aller-einstieg-ist-schwer"><i class="fa fa-check"></i><b>0.4</b> Aller Einstieg ist schwer?!</a></li>
<li class="chapter" data-level="0.5" data-path="index.html"><a href="index.html#typographie"><i class="fa fa-check"></i><b>0.5</b> Typographie</a></li>
<li class="chapter" data-level="0.6" data-path="index.html"><a href="index.html#weiterführende-literatur"><i class="fa fa-check"></i><b>0.6</b> Weiterführende Literatur</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="rstudio.html"><a href="rstudio.html"><i class="fa fa-check"></i><b>1</b> RStudio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="rstudio.html"><a href="rstudio.html#benutzeroberfläche"><i class="fa fa-check"></i><b>1.1</b> Benutzeroberfläche</a></li>
<li class="chapter" data-level="1.2" data-path="rstudio.html"><a href="rstudio.html#optionen"><i class="fa fa-check"></i><b>1.2</b> Optionen</a></li>
<li class="chapter" data-level="1.3" data-path="rstudio.html"><a href="rstudio.html#konsole"><i class="fa fa-check"></i><b>1.3</b> Konsole</a></li>
<li class="chapter" data-level="1.4" data-path="rstudio.html"><a href="rstudio.html#environment-und-history"><i class="fa fa-check"></i><b>1.4</b> Environment und History</a></li>
<li class="chapter" data-level="1.5" data-path="rstudio.html"><a href="rstudio.html#files"><i class="fa fa-check"></i><b>1.5</b> Files</a></li>
<li class="chapter" data-level="1.6" data-path="rstudio.html"><a href="rstudio.html#packages"><i class="fa fa-check"></i><b>1.6</b> Packages</a></li>
<li class="chapter" data-level="1.7" data-path="rstudio.html"><a href="rstudio.html#help"><i class="fa fa-check"></i><b>1.7</b> Help</a></li>
<li class="chapter" data-level="1.8" data-path="rstudio.html"><a href="rstudio.html#arbeiten-mit-rstudio"><i class="fa fa-check"></i><b>1.8</b> Arbeiten mit RStudio</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="rstudio.html"><a href="rstudio.html#projects"><i class="fa fa-check"></i><b>1.8.1</b> Projects</a></li>
<li class="chapter" data-level="1.8.2" data-path="rstudio.html"><a href="rstudio.html#konsole-oder-rscript"><i class="fa fa-check"></i><b>1.8.2</b> Konsole oder RScript?</a></li>
<li class="chapter" data-level="1.8.3" data-path="rstudio.html"><a href="rstudio.html#tab-completion"><i class="fa fa-check"></i><b>1.8.3</b> Tab completion</a></li>
<li class="chapter" data-level="1.8.4" data-path="rstudio.html"><a href="rstudio.html#nützliche-tastenbefehle-shortcuts"><i class="fa fa-check"></i><b>1.8.4</b> Nützliche Tastenbefehle (Shortcuts)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="programmiersprache-r.html"><a href="programmiersprache-r.html"><i class="fa fa-check"></i><b>2</b> Programmiersprache R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="programmiersprache-r.html"><a href="programmiersprache-r.html#variablen-definieren"><i class="fa fa-check"></i><b>2.1</b> Variablen definieren</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="programmiersprache-r.html"><a href="programmiersprache-r.html#variablennamen"><i class="fa fa-check"></i><b>2.1.1</b> Variablennamen</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="programmiersprache-r.html"><a href="programmiersprache-r.html#funktionen-aufrufen"><i class="fa fa-check"></i><b>2.2</b> Funktionen aufrufen</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="programmiersprache-r.html"><a href="programmiersprache-r.html#verschachtelung-von-funktionen"><i class="fa fa-check"></i><b>2.2.1</b> Verschachtelung von Funktionen</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="programmiersprache-r.html"><a href="programmiersprache-r.html#objekte-und-datentypen"><i class="fa fa-check"></i><b>2.3</b> Objekte und Datentypen</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="programmiersprache-r.html"><a href="programmiersprache-r.html#vektoren-vector"><i class="fa fa-check"></i><b>2.3.1</b> Vektoren (vector)</a></li>
<li class="chapter" data-level="2.3.2" data-path="programmiersprache-r.html"><a href="programmiersprache-r.html#faktoren-factor"><i class="fa fa-check"></i><b>2.3.2</b> Faktoren (factor)</a></li>
<li class="chapter" data-level="2.3.3" data-path="programmiersprache-r.html"><a href="programmiersprache-r.html#datensatz-data-frame"><i class="fa fa-check"></i><b>2.3.3</b> Datensatz (data frame)</a></li>
<li class="chapter" data-level="2.3.4" data-path="programmiersprache-r.html"><a href="programmiersprache-r.html#listen-list"><i class="fa fa-check"></i><b>2.3.4</b> Listen (list)</a></li>
<li class="chapter" data-level="2.3.5" data-path="programmiersprache-r.html"><a href="programmiersprache-r.html#weitere-datentypen"><i class="fa fa-check"></i><b>2.3.5</b> Weitere Datentypen</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="programmiersprache-r.html"><a href="programmiersprache-r.html#pipe-operatoren"><i class="fa fa-check"></i><b>2.4</b> Pipe Operatoren</a>
<ul>
<li><a href="programmiersprache-r.html#operator"><code>%&gt;% Operator</code></a></li>
<li><a href="programmiersprache-r.html#operator-1"><code>%$% Operator</code></a></li>
<li><a href="programmiersprache-r.html#t-operator"><code>%T&gt;% Operator</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="datenverarbeitung.html"><a href="datenverarbeitung.html"><i class="fa fa-check"></i><b>3</b> Datenverarbeitung</a>
<ul>
<li class="chapter" data-level="3.1" data-path="datenverarbeitung.html"><a href="datenverarbeitung.html#vorbereitung"><i class="fa fa-check"></i><b>3.1</b> Vorbereitung</a></li>
<li class="chapter" data-level="3.2" data-path="datenverarbeitung.html"><a href="datenverarbeitung.html#datensatz-importieren"><i class="fa fa-check"></i><b>3.2</b> Datensatz importieren</a></li>
<li class="chapter" data-level="3.3" data-path="datenverarbeitung.html"><a href="datenverarbeitung.html#erster-blick-auf-den-datensatz"><i class="fa fa-check"></i><b>3.3</b> Erster Blick auf den Datensatz</a></li>
<li class="chapter" data-level="3.4" data-path="datenverarbeitung.html"><a href="datenverarbeitung.html#datensatz-restrukturieren"><i class="fa fa-check"></i><b>3.4</b> Datensatz restrukturieren</a>
<ul>
<li><a href="datenverarbeitung.html#select"><code>Select()</code></a></li>
<li><a href="datenverarbeitung.html#filter"><code>Filter()</code></a></li>
<li><a href="datenverarbeitung.html#arrange"><code>Arrange()</code></a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="datenverarbeitung.html"><a href="datenverarbeitung.html#daten-konvertieren"><i class="fa fa-check"></i><b>3.5</b> Daten konvertieren</a>
<ul>
<li><a href="datenverarbeitung.html#to_factor"><code>To_factor()</code></a></li>
<li><a href="datenverarbeitung.html#to_label"><code>To_label()</code></a></li>
<li><a href="datenverarbeitung.html#to_numeric"><code>To_numeric()</code></a></li>
<li><a href="datenverarbeitung.html#to_character"><code>To_character()</code></a></li>
<li><a href="datenverarbeitung.html#numeric_to_factor"><code>Numeric_to_factor()</code></a></li>
<li><a href="datenverarbeitung.html#unlabel"><code>Unlabel()</code></a></li>
<li><a href="datenverarbeitung.html#ref_lvl"><code>Ref_lvl()</code></a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="datenverarbeitung.html"><a href="datenverarbeitung.html#daten-beschriften"><i class="fa fa-check"></i><b>3.6</b> Daten beschriften</a>
<ul>
<li><a href="datenverarbeitung.html#get_label"><code>Get_label()</code></a></li>
<li><a href="datenverarbeitung.html#get_labels"><code>Get_labels()</code></a></li>
<li><a href="datenverarbeitung.html#remove_label"><code>Remove_label()</code></a></li>
<li><a href="datenverarbeitung.html#remove_labels"><code>Remove_labels()</code></a></li>
<li><a href="datenverarbeitung.html#remove_all_labels"><code>Remove_all_labels()</code></a></li>
<li><a href="datenverarbeitung.html#var_labels"><code>Var_labels()</code></a></li>
<li><a href="datenverarbeitung.html#val_labels"><code>Val_labels()</code></a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="datenverarbeitung.html"><a href="datenverarbeitung.html#daten-manipulieren"><i class="fa fa-check"></i><b>3.7</b> Daten manipulieren</a>
<ul>
<li><a href="datenverarbeitung.html#rename"><code>Rename()</code></a></li>
<li><a href="datenverarbeitung.html#mutate"><code>Mutate()</code></a></li>
<li><a href="datenverarbeitung.html#group_by"><code>Group_by()</code></a></li>
<li><a href="datenverarbeitung.html#summarise"><code>Summarise()</code></a></li>
<li><a href="datenverarbeitung.html#distinct"><code>Distinct()</code></a></li>
<li><a href="datenverarbeitung.html#case_when"><code>Case_when()</code></a></li>
<li><a href="datenverarbeitung.html#rec"><code>Rec()</code></a></li>
<li><a href="datenverarbeitung.html#std"><code>Std()</code></a></li>
<li><a href="datenverarbeitung.html#center"><code>Center()</code></a></li>
<li><a href="datenverarbeitung.html#split_var"><code>Split_var()</code></a></li>
<li><a href="datenverarbeitung.html#group_var"><code>Group_var()</code></a></li>
<li><a href="datenverarbeitung.html#row_count"><code>Row_count()</code></a></li>
<li><a href="datenverarbeitung.html#row_sums"><code>Row_sums()</code></a></li>
<li><a href="datenverarbeitung.html#row_means"><code>Row_means()</code></a></li>
<li><a href="datenverarbeitung.html#set_na"><code>Set_na()</code></a></li>
<li><a href="datenverarbeitung.html#drop_na"><code>Drop_na()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="uni--und-bivariate-datenanalyse.html"><a href="uni--und-bivariate-datenanalyse.html"><i class="fa fa-check"></i><b>4</b> Uni- und Bivariate Datenanalyse</a>
<ul>
<li class="chapter" data-level="4.1" data-path="uni--und-bivariate-datenanalyse.html"><a href="uni--und-bivariate-datenanalyse.html#gewichtung"><i class="fa fa-check"></i><b>4.1</b> Gewichtung</a></li>
<li class="chapter" data-level="4.2" data-path="uni--und-bivariate-datenanalyse.html"><a href="uni--und-bivariate-datenanalyse.html#univariate-statistiken"><i class="fa fa-check"></i><b>4.2</b> Univariate Statistiken</a>
<ul>
<li><a href="uni--und-bivariate-datenanalyse.html#frq"><code>Frq()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#descr"><code>Descr()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#weighted_mean"><code>Weighted_mean()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#weighted_median"><code>Weighted_median()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#weighted_sd"><code>Weighted_sd()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#weighted_se"><code>Weighted_se()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#wtd.quantile"><code>wtd.quantile()</code></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="uni--und-bivariate-datenanalyse.html"><a href="uni--und-bivariate-datenanalyse.html#bivariate-statistiken"><i class="fa fa-check"></i><b>4.3</b> Bivariate Statistiken</a>
<ul>
<li><a href="uni--und-bivariate-datenanalyse.html#crosstab"><code>Crosstab()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#weighted_chisqtest"><code>Weighted_chisqtest()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#crosstable_statistiscs"><code>Crosstable_statistiscs()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#weighted_correlation"><code>Weighted_correlation()</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="uni--und-bivariate-datenanalyse.html"><a href="uni--und-bivariate-datenanalyse.html#mittelwertvergleiche-unabhängig"><i class="fa fa-check"></i><b>4.4</b> Mittelwertvergleiche (unabhängig)</a>
<ul>
<li><a href="uni--und-bivariate-datenanalyse.html#weighted_ttest"><code>Weighted_ttest()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#grpmean"><code>Grpmean()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#weighted_mannwhitney"><code>Weighted_mannwhitney()</code></a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="uni--und-bivariate-datenanalyse.html"><a href="uni--und-bivariate-datenanalyse.html#grafiken"><i class="fa fa-check"></i><b>4.5</b> Grafiken</a>
<ul>
<li><a href="uni--und-bivariate-datenanalyse.html#plot_frq"><code>Plot_frq()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#plot_likert"><code>Plot_likert()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#plot_stackfrq"><code>Plot_stackfrq()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#plot_grpfrq"><code>Plot_grpfrq()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#plot_xtab"><code>Plot_xtab()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#grid.arrange"><code>Grid.arrange()</code></a></li>
<li><a href="uni--und-bivariate-datenanalyse.html#ggsave"><code>Ggsave()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="multivariate-datenanalyse.html"><a href="multivariate-datenanalyse.html"><i class="fa fa-check"></i><b>5</b> Multivariate Datenanalyse</a>
<ul>
<li class="chapter" data-level="5.1" data-path="multivariate-datenanalyse.html"><a href="multivariate-datenanalyse.html#korrelationsmatrix"><i class="fa fa-check"></i><b>5.1</b> Korrelationsmatrix</a>
<ul>
<li><a href="multivariate-datenanalyse.html#wtd.cor"><code>Wtd.cor()</code></a></li>
<li><a href="multivariate-datenanalyse.html#corrplot"><code>Corrplot()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="multivariate-datenanalyse.html"><a href="multivariate-datenanalyse.html#explorative-faktoranalyse-und-hauptkomponentenanalyse"><i class="fa fa-check"></i><b>5.2</b> Explorative Faktoranalyse und Hauptkomponentenanalyse</a>
<ul>
<li><a href="multivariate-datenanalyse.html#kmo"><code>KMO()</code></a></li>
<li><a href="multivariate-datenanalyse.html#bartlett.test"><code>Bartlett.test()</code></a></li>
<li><a href="multivariate-datenanalyse.html#scree"><code>Scree()</code></a></li>
<li><a href="multivariate-datenanalyse.html#principal"><code>Principal()</code></a></li>
<li><a href="multivariate-datenanalyse.html#fa"><code>Fa()</code></a></li>
<li><a href="multivariate-datenanalyse.html#fa.diagram"><code>Fa.diagram()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="multivariate-datenanalyse.html"><a href="multivariate-datenanalyse.html#konfirmatorische-faktorenanalyse"><i class="fa fa-check"></i><b>5.3</b> Konfirmatorische Faktorenanalyse</a>
<ul>
<li><a href="multivariate-datenanalyse.html#cfa"><code>Cfa()</code></a></li>
<li><a href="multivariate-datenanalyse.html#sempaths"><code>semPaths()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="multivariate-datenanalyse.html"><a href="multivariate-datenanalyse.html#realiabilitätsanalyse"><i class="fa fa-check"></i><b>5.4</b> Realiabilitätsanalyse</a>
<ul>
<li><a href="multivariate-datenanalyse.html#reliability"><code>reliability()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="multivariate-datenanalyse.html"><a href="multivariate-datenanalyse.html#regressionsanalyse"><i class="fa fa-check"></i><b>5.5</b> Regressionsanalyse</a>
<ul>
<li><a href="multivariate-datenanalyse.html#lm"><code>Lm()</code></a></li>
<li><a href="multivariate-datenanalyse.html#model_parameters"><code>Model_parameters()</code></a></li>
<li><a href="multivariate-datenanalyse.html#anova"><code>Anova()</code></a></li>
<li><a href="multivariate-datenanalyse.html#model_performance"><code>Model_performance()</code></a></li>
<li><a href="multivariate-datenanalyse.html#compare_performance"><code>Compare_performance()</code></a></li>
<li><a href="multivariate-datenanalyse.html#screenreg"><code>Screenreg()</code></a></li>
<li><a href="multivariate-datenanalyse.html#plot_model"><code>Plot_model()</code></a></li>
<li><a href="multivariate-datenanalyse.html#plot_models"><code>Plot_models()</code></a></li>
<li><a href="multivariate-datenanalyse.html#check_model"><code>Check_model()</code></a></li>
<li><a href="multivariate-datenanalyse.html#glm"><code>Glm()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="grafiken-erstellen.html"><a href="grafiken-erstellen.html"><i class="fa fa-check"></i><b>6</b> Grafiken erstellen</a>
<ul>
<li class="chapter" data-level="6.1" data-path="grafiken-erstellen.html"><a href="grafiken-erstellen.html#schritt-1-plot-objekt-erstellen"><i class="fa fa-check"></i><b>6.1</b> Schritt 1: Plot-Objekt erstellen</a></li>
<li class="chapter" data-level="6.2" data-path="grafiken-erstellen.html"><a href="grafiken-erstellen.html#schritt-2-aesthetic-mapping"><i class="fa fa-check"></i><b>6.2</b> Schritt 2: Aesthetic mapping</a></li>
<li class="chapter" data-level="6.3" data-path="grafiken-erstellen.html"><a href="grafiken-erstellen.html#schritt-3-schichten-layer-hinzufügen"><i class="fa fa-check"></i><b>6.3</b> Schritt 3: Schichten (“Layer”) hinzufügen</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="grafiken-erstellen.html"><a href="grafiken-erstellen.html#punktdiagramm"><i class="fa fa-check"></i><b>6.3.1</b> Punktdiagramm</a></li>
<li class="chapter" data-level="6.3.2" data-path="grafiken-erstellen.html"><a href="grafiken-erstellen.html#zentrale-tendenz-und-streuung-abbilden"><i class="fa fa-check"></i><b>6.3.2</b> Zentrale Tendenz und Streuung abbilden</a></li>
<li class="chapter" data-level="6.3.3" data-path="grafiken-erstellen.html"><a href="grafiken-erstellen.html#mehrere-schichten-kombinieren"><i class="fa fa-check"></i><b>6.3.3</b> Mehrere Schichten kombinieren</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="grafiken-erstellen.html"><a href="grafiken-erstellen.html#verschiedene-grafiken-für-verschiedene-datentypen"><i class="fa fa-check"></i><b>6.4</b> Verschiedene Grafiken für verschiedene Datentypen</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="grafiken-erstellen.html"><a href="grafiken-erstellen.html#eine-variable"><i class="fa fa-check"></i><b>6.4.1</b> Eine Variable</a></li>
<li class="chapter" data-level="6.4.2" data-path="grafiken-erstellen.html"><a href="grafiken-erstellen.html#zwei-variablen"><i class="fa fa-check"></i><b>6.4.2</b> Zwei Variablen</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="grafiken-erstellen.html"><a href="grafiken-erstellen.html#facets"><i class="fa fa-check"></i><b>6.5</b> Facets</a></li>
<li class="chapter" data-level="6.6" data-path="grafiken-erstellen.html"><a href="grafiken-erstellen.html#farben-und-themes"><i class="fa fa-check"></i><b>6.6</b> Farben und Themes</a></li>
<li class="chapter" data-level="6.7" data-path="grafiken-erstellen.html"><a href="grafiken-erstellen.html#beschriftungen"><i class="fa fa-check"></i><b>6.7</b> Beschriftungen</a></li>
<li class="chapter" data-level="6.8" data-path="grafiken-erstellen.html"><a href="grafiken-erstellen.html#grafiken-speichern"><i class="fa fa-check"></i><b>6.8</b> Grafiken speichern</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Workshop - Sozialwissenschaften</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="programmiersprache-r" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Programmiersprache R</h1>
<p>In diesem Kapitel wollen wir R als Programmierspache kennenlernen.</p>
<div id="variablen-definieren" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Variablen definieren</h2>
<p>In einem ersten Schritt wollen wir eine Rechnung (einen Wert) in einer Variable speichern.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="programmiersprache-r.html#cb17-1" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">*</span><span class="dv">4</span></span></code></pre></div>
<p>Unsere Variable mit dem Namen <code>var1</code> (immer links in der Zeile) wird über den Zuweisungspfeil <code>&lt;-</code> (Tastenkürzel: <code>option</code> + <code>-</code>) mit dem Ergebnis aus <code>2*4 (8)</code> definiert.</p>
<p>Zur Kontrolle können wir <code>var1</code> mit den folgenden Befehlen aufrufen.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="programmiersprache-r.html#cb18-1" aria-hidden="true" tabindex="-1"></a>var1</span>
<span id="cb18-2"><a href="programmiersprache-r.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 8</span></span></code></pre></div>
<p>Man kann auch gleich bei der Definition der Variablen die Zuweisung in Klammern schreiben und das Resultat wird gleichzeitig in der Konsole angezeigt.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="programmiersprache-r.html#cb19-1" aria-hidden="true" tabindex="-1"></a>(var1 <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">*</span><span class="dv">4</span>)</span>
<span id="cb19-2"><a href="programmiersprache-r.html#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 8</span></span></code></pre></div>
<p><strong>Tipp:</strong> Sollten Sie aus anderen Programmiersprachen schon Kenntnisse mitbringen und <code>=</code> als Zuweisungsoperator kennen, empfehlen wir dennoch eindringlich mit <code>&lt;-</code> zu arbeiten. Funktionen in R arbeiten bei der Zuweisung von Argumenten mit dem Zuweisungsoperator <code>=</code>. Folglich ist die Verwendung von <code>&lt;-</code> nicht nur besser zu lesen, sie kann auch Fehler vorbeugen.</p>
<div id="variablennamen" class="section level3" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Variablennamen</h3>
<p>Eine Variable muss immer einen Namen haben. Sie darf aus Buchstaben, Zahlen und den Zeichen <code>.</code> und <code>_</code> bestehen. Dennoch muss sie immer mit einem Buchstaben beginnen und darf keine Leerzeichen enthalten.</p>
<p>Um lesbaren und verständlichen Code zu schreiben, gibt es ein paar Konventionen an die man sich halten sollte. Hier gibt es zwei gängige Möglichkeiten und eine ältere Form, um Variablen zu bennen.</p>
<p><em>Die Wahl ist egal, solange man konsequent bei einer Schreibweise bleibt!</em></p>
<p><strong>1. snake_case_variable</strong></p>
<p>Bei dieser Schreibform werden die einzelnen Worten in einer Variablenbezeichnung durch Unterstriche verbunden und alle Worte kleingeschrieben.</p>
<p><strong>2. camelCaseVariable</strong></p>
<p>Hier wird nur das erste Wort kleingeschrieben und die folgenden mit dem ersten Buchstaben großgeschrieben.</p>
<p><strong>3. variable.with.perdiods (alt)</strong></p>
<p>Die kleingeschriebenen Worte werden mit Punkten getrennt.</p>
<pre><code># Gute Bezeichnungen
efaKonstrukt1
efa_konstrukt_1

# Schlechte Bezeichnungen
Efa.konstrukt_1
efaKonstrukt_1

# Unmöglich
efa 1</code></pre>
</div>
</div>
<div id="funktionen-aufrufen" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Funktionen aufrufen</h2>
<blockquote>
<p>“Everything that exists is an object. Everything that happens is a function call.”</p>
<p>–John Chambers</p>
</blockquote>
<p>Objekte haben wir schon in ihrer einfachsten Form als Rechenergebnis in einer Variable kennen gelernt. Um kompliziertere Objekte verstehen zu können, wollen wir uns erst den Funktionen (function calls) in R zuwenden.</p>
<p>Unsere Funktion sieht wie folgt aus (ein fiktionales Beispiel):</p>
<pre><code>functionName(arg1 = Daten, arg2 = option1, arg3)</code></pre>
<p>In einem ersten Schritt sehen wir uns an, welchen Namen die Funktion trägt. Unsere Funktion heißt functionName. Wir können leider nicht direkt aus dem Namen erschließen, welche Auswirkung unser <em>function call</em> haben wird. In so einem Fall würde ein Blick in <code>Help</code> (<code>?functionName</code>) sicher Abhilfe schaffen, wenngleich wir in unserem Beispiel leider keine Dokumentation nutzen können.</p>
<p>So sehen wir uns in einem zweiten Schritt die <em>Argumente</em> unserer Funktion an. Wie wir sehen können, besitzt unsere Funktion drei Argumente: <code>arg1</code>, <code>arg2</code> und <code>arg3</code>. Die Argumente werden mit spezifischen Werten über <code>=</code> bestückt. In unserem Beispiel benötigt das erste Argument Daten und das zweite Argument einen spezifischen Wert aus einer Auswahl an möglichen Werten - diese werden immer vom Entwickler der Funktion in der Dokumentation angegeben. Das dritte Argument wird als “default” abgerufen, also über eine Voreinstellung der Entwicklers geladen. Argumente die mit “default” arbeiten sind aber keinesfalls fest. Sie können immer auch durch andere Werte ersetzt werden. Argumente arbeiten immer dann mit “default,” wenn die Grundeinstellung des Arguments die häufigste Nutzungsform darstellt und man nicht bei jedem <em>function call</em> die Wertzuweisung von neuem schaffen möchte.</p>
<p><strong>Tipp:</strong> Wollen wir alle verfügbaren Argumente in einer Funktion sehen, drücken wir <code>Tab</code>.</p>
<p><strong>Wichtig!</strong> Eine Funktion kann beliebig viele Argumente besitzen.</p>
<p>Um uns einer “großen” Funktion zu nähern, müssen wir zu Beginn einige “Grundfunktionen” kennenlernen.</p>
<ul>
<li><code>c()</code> &gt; Combine: kreiert einen Vektor</li>
<li><code>seq(from, to, by)</code> &gt; Generiert eine Sequenz an Zahlen</li>
<li><code>:</code> &gt; Colon Operator: generiert eine reguläre Sequenz (Sequenz in Einerschritten)</li>
<li><code>rep(x, times, each)</code> &gt; Wiederholt x
times: Sequenz wird n-mal wiederholt
each: jedes Element wird n-mal wiederholt</li>
<li><code>head(x, n = 6)</code> &gt; Zeigt die n ersten Elemente von x an</li>
<li><code>tail(x, n = 6)</code> &gt; Zeigt die n letzten Elemente von x an</li>
<li><code>print(x)</code> &gt; Gibt Werte eines Objekts aus (vor allem bei großen Objekten wichtig)</li>
<li><code>round(x, digits)</code> &gt; Rundung von Zahlen</li>
</ul>
<p>z.B.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="programmiersprache-r.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Daten erzeugen</span></span>
<span id="cb22-2"><a href="programmiersprache-r.html#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Vektor erzeugen</span></span>
<span id="cb22-3"><a href="programmiersprache-r.html#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb22-4"><a href="programmiersprache-r.html#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 4 5</span></span>
<span id="cb22-5"><a href="programmiersprache-r.html#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="programmiersprache-r.html#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Sequenz erzeugen</span></span>
<span id="cb22-7"><a href="programmiersprache-r.html#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1</span>, <span class="at">to =</span> <span class="dv">10</span>, <span class="at">by =</span> <span class="dv">2</span>)</span>
<span id="cb22-8"><a href="programmiersprache-r.html#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 3 5 7 9</span></span>
<span id="cb22-9"><a href="programmiersprache-r.html#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="programmiersprache-r.html#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Reguläre Sequenz erzeugen</span></span>
<span id="cb22-11"><a href="programmiersprache-r.html#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb22-12"><a href="programmiersprache-r.html#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 4 5</span></span>
<span id="cb22-13"><a href="programmiersprache-r.html#cb22-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-14"><a href="programmiersprache-r.html#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Wiederholt 2 ganze 3-mal in 5 Schleifen</span></span>
<span id="cb22-15"><a href="programmiersprache-r.html#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="at">x =</span> <span class="dv">2</span>, <span class="at">times =</span> <span class="dv">5</span>, <span class="at">each =</span> <span class="dv">3</span>)</span>
<span id="cb22-16"><a href="programmiersprache-r.html#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2</span></span>
<span id="cb22-17"><a href="programmiersprache-r.html#cb22-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-18"><a href="programmiersprache-r.html#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Überblick über die erzeugten Daten</span></span>
<span id="cb22-19"><a href="programmiersprache-r.html#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Vektor in var1 speichern</span></span>
<span id="cb22-20"><a href="programmiersprache-r.html#cb22-20" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>)</span>
<span id="cb22-21"><a href="programmiersprache-r.html#cb22-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-22"><a href="programmiersprache-r.html#cb22-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Ersten 6 Elemente in var1</span></span>
<span id="cb22-23"><a href="programmiersprache-r.html#cb22-23" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="at">x =</span> var1, <span class="at">n =</span> <span class="dv">6</span>)</span>
<span id="cb22-24"><a href="programmiersprache-r.html#cb22-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 4 5 6</span></span>
<span id="cb22-25"><a href="programmiersprache-r.html#cb22-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-26"><a href="programmiersprache-r.html#cb22-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Letzten 4 Elemente in var1</span></span>
<span id="cb22-27"><a href="programmiersprache-r.html#cb22-27" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(<span class="at">x =</span> var1, <span class="at">n =</span> <span class="dv">4</span>)</span>
<span id="cb22-28"><a href="programmiersprache-r.html#cb22-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  7  8  9 10</span></span>
<span id="cb22-29"><a href="programmiersprache-r.html#cb22-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-30"><a href="programmiersprache-r.html#cb22-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Alle Elemente in var1</span></span>
<span id="cb22-31"><a href="programmiersprache-r.html#cb22-31" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="at">x =</span> var1)</span>
<span id="cb22-32"><a href="programmiersprache-r.html#cb22-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span id="cb22-33"><a href="programmiersprache-r.html#cb22-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-34"><a href="programmiersprache-r.html#cb22-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Daten transformieren</span></span>
<span id="cb22-35"><a href="programmiersprache-r.html#cb22-35" aria-hidden="true" tabindex="-1"></a>var2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.222</span>, <span class="fl">2.333</span>, <span class="fl">3.444</span>)</span>
<span id="cb22-36"><a href="programmiersprache-r.html#cb22-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-37"><a href="programmiersprache-r.html#cb22-37" aria-hidden="true" tabindex="-1"></a><span class="co"># var2 wird auf eine Nachkommastelle gerundet</span></span>
<span id="cb22-38"><a href="programmiersprache-r.html#cb22-38" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="at">x =</span> var2, <span class="at">digits =</span> <span class="dv">1</span>)</span>
<span id="cb22-39"><a href="programmiersprache-r.html#cb22-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.2 2.3 3.4</span></span></code></pre></div>
<p>Wir wollen uns die Variable <code>var2</code> etwas genauer ansehen. <code>var2</code> enthält durch das Aufrufen der Funktion <code>c()</code> eine Reihe von Zahlen (1.222 bis 3.444) mit drei Nachkommastellen. Diese Zahlen wollen wir mit der Funktion <code>round()</code> auf eine Nachkommastelle runden. Das Argument <code>digits</code> beschreibt damit die Rundungszahl nach dem Komma. <code>digits = 1</code> löst eine Rundung der Nachkommastellen auf die erste Nachkommastelle aus. Der Wert im Argument <code>digits</code> kann damit theoretisch von 0 bis ∞ variieren.</p>
<div id="verschachtelung-von-funktionen" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Verschachtelung von Funktionen</h3>
<p>Zudem können wir beliebig viele Funktion ineinander verschachteln, d.h. wir können den Output einer Funktion einer anderen Funktion als Input übergeben.</p>
<p>Wir bilden zuerst einen Vektor, runden die Zahlen und lassen uns dann nur die ersten drei Zahlen ausgeben.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="programmiersprache-r.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mehrere Funktionen hintereinander</span></span>
<span id="cb23-2"><a href="programmiersprache-r.html#cb23-2" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.11</span>, <span class="fl">1.22</span>, <span class="fl">1.33</span>, <span class="fl">1.44</span>, <span class="fl">1.55</span>)</span>
<span id="cb23-3"><a href="programmiersprache-r.html#cb23-3" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="at">x =</span> var1, <span class="at">digits =</span> <span class="dv">1</span>)</span>
<span id="cb23-4"><a href="programmiersprache-r.html#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="at">x =</span> var1, <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb23-5"><a href="programmiersprache-r.html#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.1 1.2 1.3</span></span>
<span id="cb23-6"><a href="programmiersprache-r.html#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="programmiersprache-r.html#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co"># jetzt in einer verschachtelten Funktion</span></span>
<span id="cb23-8"><a href="programmiersprache-r.html#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="at">x =</span> <span class="fu">round</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="fl">1.11</span>, <span class="fl">1.22</span>, <span class="fl">1.33</span>, <span class="fl">1.44</span>, <span class="fl">1.55</span>), <span class="at">digits =</span> <span class="dv">1</span>), <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb23-9"><a href="programmiersprache-r.html#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.1 1.2 1.3</span></span>
<span id="cb23-10"><a href="programmiersprache-r.html#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="programmiersprache-r.html#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="co"># kürzeste Form</span></span>
<span id="cb23-12"><a href="programmiersprache-r.html#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">round</span>(<span class="fu">c</span>(<span class="fl">1.11</span>, <span class="fl">1.22</span>, <span class="fl">1.33</span>, <span class="fl">1.44</span>, <span class="fl">1.55</span>), <span class="at">digits =</span> <span class="dv">1</span>), <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb23-13"><a href="programmiersprache-r.html#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.1 1.2 1.3</span></span>
<span id="cb23-14"><a href="programmiersprache-r.html#cb23-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-15"><a href="programmiersprache-r.html#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Mit var1 als Dateninput</span></span>
<span id="cb23-16"><a href="programmiersprache-r.html#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">round</span>(var1, <span class="at">digits =</span> <span class="dv">1</span>), <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb23-17"><a href="programmiersprache-r.html#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.1 1.2 1.3</span></span></code></pre></div>
<p>Die Funktionen werden immer in Reihenfolge <em>von innen nach außen</em> ausgeführt. In unserem Beispiel also erst <code>c()</code>, dann <code>round()</code> und dann <code>head()</code>. Jede Funktion gibt ihren Wert an die nächste Funktion weiter.</p>
<p><strong>Anmerkung:</strong> Die Funktion <code>head()</code> enthält zwei Argumente mit “default”-Werten: keepnums und addrownums. Beide bekommen automatisch (“default”) den Wert <code>NULL</code> und müssen damit nicht ausgeschrieben werden. Sie werden für unsere Anwendung auch nicht gebraucht und damit nicht angepasst.</p>
<p>Vorteile von verschachtelten Funktionen:</p>
<ul>
<li>Es können unendlich viele Funktionen verschachtelt werden.</li>
<li>Wir müssen Argumente nicht ausschreiben, solange sie eindeutig von der Funktion erkannt werden können. So gibt es in allen genutzten Funktionen mit <code>x =</code> nur eine Schnittstelle für die Dateneingabe.</li>
<li>Weiterhin können wir so unseren Code in eine Kette von Befehlen verwandeln, die nur einen Output (ein Objekt) ausgibt. Die Objektstruktur wird damit übersichtlicher.</li>
</ul>
<p>Nachteil:</p>
<ul>
<li>Wenn wir mehrere Funktionen ineinander verschachteln, kann unser Code schnell unlesbar werden. Natürlich könnten wir die einzelnen Zwischenschritte speichern, wie im Beispiel weiter oben, aber dann definieren wir eine Menge Variablen, welche wir vielleicht gar nicht benötigen.</li>
</ul>
<p><em>Wir werden in Kapitel 2.4 einen neuen Operator kennen lernen, welcher eine sehr elegante Lösung für dieses Problem bietet.</em></p>
</div>
</div>
<div id="objekte-und-datentypen" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Objekte und Datentypen</h2>
<p>In R kann alles als Objekt in Variablen gespeichert werden.</p>
<ul>
<li>Einzelne Werte / Mehrere Werte (z.B. ein Datensatz mit Rohdaten)</li>
<li>Tabellen</li>
<li>Statistische Modelle</li>
<li>Ergebnisse statitischer Analysen</li>
<li>Funktionen, etc.</li>
</ul>
<p>Anmerkung: Objekte sind nicht gleich Variablen, da Objekte nicht gespeichert werden <em>müssen</em>. Ein Objekt wird erst dann zur Variable, wenn es eine Bezeichnung über <code>&lt;-</code> erhält und damit gespeichert wird. Die Zahlenfolge aus <code>c(1, 2, 3)</code> stellt auch schon ein Objekt da.</p>
<p>In R gibt es eine Vielzahl von verschiedenen Objekttypen. Die grundlegenden Objekttypen sind:</p>
<div id="vektoren-vector" class="section level3" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Vektoren (vector)</h3>
<ul>
<li>Vektoren → ordinale/metrische Variablen
<ul>
<li>numeric (Zahlen)</li>
<li>character (Buchstaben)</li>
<li>logical (Richtig oder Falsch)</li>
</ul></li>
</ul>
<p>Beispiel</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="programmiersprache-r.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Numerischer Verktor (numeric vector) </span></span>
<span id="cb24-2"><a href="programmiersprache-r.html#cb24-2" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>) </span>
<span id="cb24-3"><a href="programmiersprache-r.html#cb24-3" aria-hidden="true" tabindex="-1"></a>var1</span>
<span id="cb24-4"><a href="programmiersprache-r.html#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 4 5</span></span>
<span id="cb24-5"><a href="programmiersprache-r.html#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="programmiersprache-r.html#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Buchstaben Vektor (character vector) </span></span>
<span id="cb24-7"><a href="programmiersprache-r.html#cb24-7" aria-hidden="true" tabindex="-1"></a>var2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Peter&quot;</span>, <span class="st">&quot;Yusuf&quot;</span>, <span class="st">&quot;Sarah&quot;</span>, <span class="st">&quot;Aayana&quot;</span>)</span>
<span id="cb24-8"><a href="programmiersprache-r.html#cb24-8" aria-hidden="true" tabindex="-1"></a>var2</span>
<span id="cb24-9"><a href="programmiersprache-r.html#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Peter&quot;  &quot;Yusuf&quot;  &quot;Sarah&quot;  &quot;Aayana&quot;</span></span>
<span id="cb24-10"><a href="programmiersprache-r.html#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="programmiersprache-r.html#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Logischer Vektor (logical vector)</span></span>
<span id="cb24-12"><a href="programmiersprache-r.html#cb24-12" aria-hidden="true" tabindex="-1"></a>var3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">NA</span>) </span>
<span id="cb24-13"><a href="programmiersprache-r.html#cb24-13" aria-hidden="true" tabindex="-1"></a>var3</span>
<span id="cb24-14"><a href="programmiersprache-r.html#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  TRUE FALSE    NA</span></span></code></pre></div>
<p><strong>Tipp:</strong> TRUE bzw. FALSE können mit T bzw. F abgekürzt werden.</p>
<p>Vektoren stellen die fundamentalen Datentypen dar. Alle weiteren Datentypen bauen auf diesen auf. Zudem müssen Vektoren aus denselben Elementen bestehen, d.h. wir können keine <code>logical</code> und <code>character</code> Elemente in einem Vektor mischen. Sie bilden damit die <code>atomare Struktur</code> in R.</p>
<ul>
<li><p><strong>numeric vector:</strong> Die häufigste Datenform in R. Numerische Vektoren lassen sich zudem weiter unterteilen, in <code>integer</code> (ganze Zahlen) und <code>double</code> (reele Zahlen - Kommazahlen). Zahlen werden in R praktisch immer als <code>double</code> abgelegt (auch die ganzen Zahlen) und müssen somit nie für Berechungen gewandelt werden.</p></li>
<li><p><strong>character vector:</strong> Die Elemente dieses Typs bestehen aus Zeichen, welche von Anführungszeichen umgeben werden (entweder ’ oder ” ). Sie werden auch <em>strings</em> genannt.</p>
<p>Anmerkung: Anführungszeichen dienen in R zur Kennzeichnung von nicht numerischen Werten. Wir müssen also <strong>alle</strong> natürlichen Worte in jedem Kontext in Anführungszeichen schreiben.</p></li>
<li><p><strong>logical vector:</strong> Die Elemente dieses Typs können nur 3 Werte annehmen:<code>TRUE</code>, <code>FALSE</code> oder <code>NA</code>. Logische Vektoren lassen sich auch numerisch übersetzen in <code>TRUE = 1</code> und <code>FALSE = 0</code>, damit werden sie auch als <code>integer</code> abgelegt. Das wird vor allem bei der Datenselektion relevant.</p>
<p>Anmerkung: <code>NA</code> steht für fehlende Werte.</p></li>
</ul>
<p>Vektoren haben folgend drei Eigenschaften:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="programmiersprache-r.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Modus bzw. Struktur (mode) - Was ist es?</span></span>
<span id="cb25-2"><a href="programmiersprache-r.html#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(var1)</span>
<span id="cb25-3"><a href="programmiersprache-r.html#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;double&quot;</span></span>
<span id="cb25-4"><a href="programmiersprache-r.html#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="programmiersprache-r.html#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Länge - Wie viele Elemente?</span></span>
<span id="cb25-6"><a href="programmiersprache-r.html#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(var1)</span>
<span id="cb25-7"><a href="programmiersprache-r.html#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 5</span></span>
<span id="cb25-8"><a href="programmiersprache-r.html#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="programmiersprache-r.html#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Attribute (optional) - Zusätzliche Informationen (Metadaten)</span></span>
<span id="cb25-10"><a href="programmiersprache-r.html#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(var1) <span class="co"># x wurden noch keine attribute zugeordnet</span></span>
<span id="cb25-11"><a href="programmiersprache-r.html#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; NULL</span></span>
<span id="cb25-12"><a href="programmiersprache-r.html#cb25-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-13"><a href="programmiersprache-r.html#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="co"># ------ Zusatz ------</span></span>
<span id="cb25-14"><a href="programmiersprache-r.html#cb25-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-15"><a href="programmiersprache-r.html#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Objektbestimmung</span></span>
<span id="cb25-16"><a href="programmiersprache-r.html#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(var1)</span>
<span id="cb25-17"><a href="programmiersprache-r.html#cb25-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;numeric&quot;</span></span></code></pre></div>
<p>Nun wollen wir auf die einzelnen Elemente in den Vektoren zugreifen (indizieren). Wir können die einzelnen Elemente eines Vektor mit <code>[]</code> anwählen (<code>subsetting</code>).</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="programmiersprache-r.html#cb26-1" aria-hidden="true" tabindex="-1"></a>zahlenreihe <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">2.5</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="fl">5.77</span>, <span class="dv">6</span>, <span class="dv">7</span>)</span>
<span id="cb26-2"><a href="programmiersprache-r.html#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="programmiersprache-r.html#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Das erste Element</span></span>
<span id="cb26-4"><a href="programmiersprache-r.html#cb26-4" aria-hidden="true" tabindex="-1"></a>zahlenreihe[<span class="dv">1</span>]</span>
<span id="cb26-5"><a href="programmiersprache-r.html#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb26-6"><a href="programmiersprache-r.html#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="programmiersprache-r.html#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co"># das fünfte Element</span></span>
<span id="cb26-8"><a href="programmiersprache-r.html#cb26-8" aria-hidden="true" tabindex="-1"></a>zahlenreihe[<span class="dv">5</span>]</span>
<span id="cb26-9"><a href="programmiersprache-r.html#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 5.77</span></span>
<span id="cb26-10"><a href="programmiersprache-r.html#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="programmiersprache-r.html#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Das letzte Element</span></span>
<span id="cb26-12"><a href="programmiersprache-r.html#cb26-12" aria-hidden="true" tabindex="-1"></a>zahlenreihe[<span class="fu">length</span>(zahlenreihe)]</span>
<span id="cb26-13"><a href="programmiersprache-r.html#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 7</span></span>
<span id="cb26-14"><a href="programmiersprache-r.html#cb26-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-15"><a href="programmiersprache-r.html#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Mit - (Minus) können wir gezielt Elemente ausschließen</span></span>
<span id="cb26-16"><a href="programmiersprache-r.html#cb26-16" aria-hidden="true" tabindex="-1"></a>zahlenreihe[<span class="sc">-</span><span class="dv">4</span>]</span>
<span id="cb26-17"><a href="programmiersprache-r.html#cb26-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.00 2.50 3.00 5.77 6.00 7.00</span></span>
<span id="cb26-18"><a href="programmiersprache-r.html#cb26-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-19"><a href="programmiersprache-r.html#cb26-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Wir können auch Sequenzen auswählen</span></span>
<span id="cb26-20"><a href="programmiersprache-r.html#cb26-20" aria-hidden="true" tabindex="-1"></a>zahlenreihe[<span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>]</span>
<span id="cb26-21"><a href="programmiersprache-r.html#cb26-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2.50 3.00 4.00 5.77</span></span>
<span id="cb26-22"><a href="programmiersprache-r.html#cb26-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-23"><a href="programmiersprache-r.html#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Wir können auch gezielt mehrere Elemente ausschließen oder auswählen</span></span>
<span id="cb26-24"><a href="programmiersprache-r.html#cb26-24" aria-hidden="true" tabindex="-1"></a>zahlenreihe[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>)]</span>
<span id="cb26-25"><a href="programmiersprache-r.html#cb26-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2.50 3.00 5.77 6.00 7.00</span></span>
<span id="cb26-26"><a href="programmiersprache-r.html#cb26-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-27"><a href="programmiersprache-r.html#cb26-27" aria-hidden="true" tabindex="-1"></a>zahlenreihe[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>)]</span>
<span id="cb26-28"><a href="programmiersprache-r.html#cb26-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.00 2.50 5.77</span></span>
<span id="cb26-29"><a href="programmiersprache-r.html#cb26-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-30"><a href="programmiersprache-r.html#cb26-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Das Gleiche funktioniert auch mit einem character vector</span></span>
<span id="cb26-31"><a href="programmiersprache-r.html#cb26-31" aria-hidden="true" tabindex="-1"></a>buchstabenreihe <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="st">&quot;E&quot;</span>)</span>
<span id="cb26-32"><a href="programmiersprache-r.html#cb26-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-33"><a href="programmiersprache-r.html#cb26-33" aria-hidden="true" tabindex="-1"></a>buchstabenreihe[<span class="dv">1</span>]</span>
<span id="cb26-34"><a href="programmiersprache-r.html#cb26-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;A&quot;</span></span></code></pre></div>
</div>
<div id="faktoren-factor" class="section level3" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> Faktoren (factor)</h3>
<ul>
<li>Faktoren → nominale/ordinale Variablen
<ul>
<li>nominale Variable</li>
<li>Kategorien des Faktors = levels (kann Zahlen oder Buchstaben enthalten)</li>
</ul></li>
</ul>
<p>Bisher haben wir <code>numeric</code>, <code>character</code> und <code>logical</code> Vektoren kennengelernt. Ein weiterer Objekttyp wird benötigt, um kategoriale Daten oder Gruppierungsvariablen darzustellen. Dieser Objekttyp wird <code>factor</code> genannt.</p>
<p>Ein <code>Faktor</code> ist ein Vektor mit ganze Zahlen (<code>integer</code>), welcher eine Beschriftung für die einzelnen Fakttorstufen (<code>levels</code>) besitzt. Die Beschriftungen sind letztlich Attribute (<code>attributes</code>), die Informationen über die Faktorstufen geben. Ein Beispiel:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="programmiersprache-r.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Geschlecht als character vector</span></span>
<span id="cb27-2"><a href="programmiersprache-r.html#cb27-2" aria-hidden="true" tabindex="-1"></a>sex <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Mann&quot;</span>, <span class="st">&quot;Frau&quot;</span>, <span class="st">&quot;Mann&quot;</span>, <span class="st">&quot;Frau&quot;</span>, <span class="st">&quot;Frau&quot;</span>, <span class="st">&quot;Div&quot;</span>)</span>
<span id="cb27-3"><a href="programmiersprache-r.html#cb27-3" aria-hidden="true" tabindex="-1"></a>sex</span>
<span id="cb27-4"><a href="programmiersprache-r.html#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Mann&quot; &quot;Frau&quot; &quot;Mann&quot; &quot;Frau&quot; &quot;Frau&quot; &quot;Div&quot;</span></span>
<span id="cb27-5"><a href="programmiersprache-r.html#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="programmiersprache-r.html#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Modus (mode)</span></span>
<span id="cb27-7"><a href="programmiersprache-r.html#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(sex)</span>
<span id="cb27-8"><a href="programmiersprache-r.html#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;character&quot;</span></span>
<span id="cb27-9"><a href="programmiersprache-r.html#cb27-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-10"><a href="programmiersprache-r.html#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Attribute</span></span>
<span id="cb27-11"><a href="programmiersprache-r.html#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(sex)</span>
<span id="cb27-12"><a href="programmiersprache-r.html#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; NULL</span></span></code></pre></div>
<p>Nun haben wir einen <code>character vector</code> mit Informationen über Geschlechter. In einem nächsten Schritt wollen wir diesen Vektor als Faktor definieren.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="programmiersprache-r.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Geschlecht als Faktor</span></span>
<span id="cb28-2"><a href="programmiersprache-r.html#cb28-2" aria-hidden="true" tabindex="-1"></a>sexf <span class="ot">&lt;-</span> <span class="fu">factor</span>(sex, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Mann&quot;</span>, <span class="st">&quot;Frau&quot;</span>, <span class="st">&quot;Div&quot;</span>))</span>
<span id="cb28-3"><a href="programmiersprache-r.html#cb28-3" aria-hidden="true" tabindex="-1"></a>sexf</span>
<span id="cb28-4"><a href="programmiersprache-r.html#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Mann Frau Mann Frau Frau Div </span></span>
<span id="cb28-5"><a href="programmiersprache-r.html#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: Mann Frau Div</span></span>
<span id="cb28-6"><a href="programmiersprache-r.html#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="programmiersprache-r.html#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Geschlecht hat nun den Datentyp integer</span></span>
<span id="cb28-8"><a href="programmiersprache-r.html#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(sexf)</span>
<span id="cb28-9"><a href="programmiersprache-r.html#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;integer&quot;</span></span>
<span id="cb28-10"><a href="programmiersprache-r.html#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="programmiersprache-r.html#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="co"># und die Klasse &quot;factor&quot;</span></span>
<span id="cb28-12"><a href="programmiersprache-r.html#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(sexf)</span>
<span id="cb28-13"><a href="programmiersprache-r.html#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;factor&quot;</span></span>
<span id="cb28-14"><a href="programmiersprache-r.html#cb28-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-15"><a href="programmiersprache-r.html#cb28-15" aria-hidden="true" tabindex="-1"></a><span class="co"># jetzt sind auch die Attribute definiert</span></span>
<span id="cb28-16"><a href="programmiersprache-r.html#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(sexf)</span>
<span id="cb28-17"><a href="programmiersprache-r.html#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $levels</span></span>
<span id="cb28-18"><a href="programmiersprache-r.html#cb28-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Mann&quot; &quot;Frau&quot; &quot;Div&quot; </span></span>
<span id="cb28-19"><a href="programmiersprache-r.html#cb28-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb28-20"><a href="programmiersprache-r.html#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $class</span></span>
<span id="cb28-21"><a href="programmiersprache-r.html#cb28-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;factor&quot;</span></span></code></pre></div>
<p>Wir haben bei der Definition die <code>levels</code> explizit angegeben. Das hätten wir aber nicht machen müssen. R ordnet standardmäßig alle Faktorstufen alphabetisch zu.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="programmiersprache-r.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Geschlecht als Faktor</span></span>
<span id="cb29-2"><a href="programmiersprache-r.html#cb29-2" aria-hidden="true" tabindex="-1"></a>sexf2 <span class="ot">&lt;-</span> <span class="fu">factor</span>(sex)</span>
<span id="cb29-3"><a href="programmiersprache-r.html#cb29-3" aria-hidden="true" tabindex="-1"></a>sexf2</span>
<span id="cb29-4"><a href="programmiersprache-r.html#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Mann Frau Mann Frau Frau Div </span></span>
<span id="cb29-5"><a href="programmiersprache-r.html#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: Div Frau Mann</span></span>
<span id="cb29-6"><a href="programmiersprache-r.html#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="programmiersprache-r.html#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Datentyp</span></span>
<span id="cb29-8"><a href="programmiersprache-r.html#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(sexf2)</span>
<span id="cb29-9"><a href="programmiersprache-r.html#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;integer&quot;</span></span>
<span id="cb29-10"><a href="programmiersprache-r.html#cb29-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-11"><a href="programmiersprache-r.html#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Klasse</span></span>
<span id="cb29-12"><a href="programmiersprache-r.html#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(sexf2)</span>
<span id="cb29-13"><a href="programmiersprache-r.html#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;factor&quot;</span></span>
<span id="cb29-14"><a href="programmiersprache-r.html#cb29-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-15"><a href="programmiersprache-r.html#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Attribute </span></span>
<span id="cb29-16"><a href="programmiersprache-r.html#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(sexf2)</span>
<span id="cb29-17"><a href="programmiersprache-r.html#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $levels</span></span>
<span id="cb29-18"><a href="programmiersprache-r.html#cb29-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Div&quot;  &quot;Frau&quot; &quot;Mann&quot;</span></span>
<span id="cb29-19"><a href="programmiersprache-r.html#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb29-20"><a href="programmiersprache-r.html#cb29-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $class</span></span>
<span id="cb29-21"><a href="programmiersprache-r.html#cb29-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;factor&quot;</span></span></code></pre></div>
<p>Wir werden Faktoren später häufig bei der Modellierung benötigen z.B. bei Regressionsmodellen mit Dummyvariablen. Die erste Stufe eines Faktors wird von R automatisch als Referenzkategorie bestimmt, wenn wir den Faktor als Prädiktorvariable in ein Modell einbringen. Manchmal wollen wir jedoch eine andere Stufe als Referenzkategorie. In diesem Fall kann man die Reihenfolge der Faktorstufen ändern.</p>
<p>Über <code>relevel()</code> kann direkt die Refrenzkategorie bestimmt werden.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="programmiersprache-r.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Unsere Refrenzkategorie ist gegenwärtig &quot;Mann&quot;</span></span>
<span id="cb30-2"><a href="programmiersprache-r.html#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(sexf)</span>
<span id="cb30-3"><a href="programmiersprache-r.html#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Mann&quot; &quot;Frau&quot; &quot;Div&quot;</span></span>
<span id="cb30-4"><a href="programmiersprache-r.html#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="programmiersprache-r.html#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Wir ändern die Refrenkategorie folgend auf &quot;Frau&quot;</span></span>
<span id="cb30-6"><a href="programmiersprache-r.html#cb30-6" aria-hidden="true" tabindex="-1"></a>sexf <span class="ot">&lt;-</span> <span class="fu">relevel</span>(sexf, <span class="at">ref =</span> <span class="st">&quot;Frau&quot;</span>)</span>
<span id="cb30-7"><a href="programmiersprache-r.html#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(sexf)</span>
<span id="cb30-8"><a href="programmiersprache-r.html#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Frau&quot; &quot;Mann&quot; &quot;Div&quot;</span></span></code></pre></div>
<p>Mit der Funktion <code>factor()</code> lassen sich alle Faktorstufen frei ordnen, solange wir im Befehl alle Faktorstufen benutzen. Die erste Stufe wird folglich zur Refrenzkategorie.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="programmiersprache-r.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Unsere Refrenzkategorie ist gegenwärtig &quot;Frau&quot;</span></span>
<span id="cb31-2"><a href="programmiersprache-r.html#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(sexf)</span>
<span id="cb31-3"><a href="programmiersprache-r.html#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Frau&quot; &quot;Mann&quot; &quot;Div&quot;</span></span>
<span id="cb31-4"><a href="programmiersprache-r.html#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="programmiersprache-r.html#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Wir ändern die Refrenkategorie durch die neue Auflistung unserer level auf &quot;Mann&quot;</span></span>
<span id="cb31-6"><a href="programmiersprache-r.html#cb31-6" aria-hidden="true" tabindex="-1"></a>sexf <span class="ot">&lt;-</span> <span class="fu">factor</span>(sexf, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Mann&quot;</span>, <span class="st">&quot;Frau&quot;</span>, <span class="st">&quot;Div&quot;</span>))</span>
<span id="cb31-7"><a href="programmiersprache-r.html#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(sexf)</span>
<span id="cb31-8"><a href="programmiersprache-r.html#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Mann&quot; &quot;Frau&quot; &quot;Div&quot;</span></span></code></pre></div>
<p>Durch die Festlegung einer Variable als Faktor wird diese automatisch dummykodiert und kann umstandslos in ein Modell einbezogen werden. Wir müssen nur die Refrenzkategorie im Blick behalten.</p>
</div>
<div id="datensatz-data-frame" class="section level3" number="2.3.3">
<h3><span class="header-section-number">2.3.3</span> Datensatz (data frame)</h3>
<ul>
<li>Datensatz (mehrere Zeilen und Spalten)
<ul>
<li>Spalten (Vektoren und Faktoren)</li>
<li>Zeilen (Fälle, z. B. Versuchspersonen)</li>
</ul></li>
</ul>
<p>Nun kommen wir zu dem für uns wichtigsten Objekt in R, dem Datensatz. Ein Datensatz besteht aus Zeilen (rows) und Spalten (columns) <strong>gleicher Länge</strong> und entspricht einem Datensatz in SPSS.</p>
<p>Die Spalten eines Datensatz sind lediglich Vektoren. Sie können damit <code>numeric</code>, <code>character</code> und <code>logical</code> sein, oder als <code>factor</code> auftreten. Numerische Variablen in einem Datensatz sollten demzufolge numerische Vektoren und kategoriale Variablen/Gruppierungsvariablen sollten Faktoren sein. Durch die Mischung von Datentypen innerhalb des Objekts “Datensatz” sprechen wir auch von einer <code>rekursiven Struktur</code>.</p>
<p>Datensätze werden traditionell über die Funktion <code>data.frame()</code> definiert. Da wir das <em>tidyverse</em> nutzen, greifen wir auf eine weiterentwickelte Form zurück - <code>tibbles</code> oder <code>tbl</code>. tibbles werden über die Funktion <code>tibble()</code> definiert und erleichtern so die Arbeit mit dem Datensatz.</p>
<p><strong>Anmerkung:</strong> Der Vorteil liegt beim Einlesen von Datensätzen, da weniger Rücksicht auf die Datenstruktur genommen werden muss. Durch <code>tibbles</code> wird viel durch R automatisiert.</p>
<p>Erstellung eines Datensatz.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="programmiersprache-r.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vektoren</span></span>
<span id="cb32-2"><a href="programmiersprache-r.html#cb32-2" aria-hidden="true" tabindex="-1"></a>sex <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;Mann&quot;</span>, <span class="st">&quot;Frau&quot;</span>, <span class="st">&quot;Mann&quot;</span>, <span class="st">&quot;Mann&quot;</span>, <span class="st">&quot;Frau&quot;</span>, <span class="st">&quot;Mann&quot;</span>))</span>
<span id="cb32-3"><a href="programmiersprache-r.html#cb32-3" aria-hidden="true" tabindex="-1"></a>alter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">22</span>, <span class="dv">45</span>, <span class="dv">67</span>, <span class="dv">87</span>, <span class="dv">16</span>, <span class="dv">56</span>)</span>
<span id="cb32-4"><a href="programmiersprache-r.html#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="programmiersprache-r.html#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Datensatz</span></span>
<span id="cb32-6"><a href="programmiersprache-r.html#cb32-6" aria-hidden="true" tabindex="-1"></a>datensatz <span class="ot">&lt;-</span> <span class="fu">tibble</span>(sex, alter)</span>
<span id="cb32-7"><a href="programmiersprache-r.html#cb32-7" aria-hidden="true" tabindex="-1"></a>datensatz</span>
<span id="cb32-8"><a href="programmiersprache-r.html#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 6 × 2</span></span>
<span id="cb32-9"><a href="programmiersprache-r.html#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sex   alter</span></span>
<span id="cb32-10"><a href="programmiersprache-r.html#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;fct&gt; &lt;dbl&gt;</span></span>
<span id="cb32-11"><a href="programmiersprache-r.html#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Mann     22</span></span>
<span id="cb32-12"><a href="programmiersprache-r.html#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Frau     45</span></span>
<span id="cb32-13"><a href="programmiersprache-r.html#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Mann     67</span></span>
<span id="cb32-14"><a href="programmiersprache-r.html#cb32-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Mann     87</span></span>
<span id="cb32-15"><a href="programmiersprache-r.html#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 Frau     16</span></span>
<span id="cb32-16"><a href="programmiersprache-r.html#cb32-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Mann     56</span></span></code></pre></div>
<p>Unser <code>datensatz</code> ist damit ein Datensatz mit zwei Variablen (<code>sex</code> und <code>alter</code>) und sechs Fällen (rows). Dieser wird uns entsprechend im <code>Environment</code> angezeigt.</p>
<p><img src="Bilder/Datensatz.png" width="75%" style="display: block; margin: auto;" /></p>
<p>Ein Datensatz hat die Attribute <code>names()</code>, <code>colnames()</code> und <code>rownames()</code> - [<code>names()</code> und <code>colnames()</code> bedeuten dasselbe].</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="programmiersprache-r.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(datensatz)</span>
<span id="cb33-2"><a href="programmiersprache-r.html#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $class</span></span>
<span id="cb33-3"><a href="programmiersprache-r.html#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</span></span>
<span id="cb33-4"><a href="programmiersprache-r.html#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-5"><a href="programmiersprache-r.html#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $row.names</span></span>
<span id="cb33-6"><a href="programmiersprache-r.html#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3 4 5 6</span></span>
<span id="cb33-7"><a href="programmiersprache-r.html#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb33-8"><a href="programmiersprache-r.html#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $names</span></span>
<span id="cb33-9"><a href="programmiersprache-r.html#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;sex&quot;   &quot;alter&quot;</span></span></code></pre></div>
<p>Wir können zudem sowohl die Länge des Spaltenvektors (Anzahl der Spalten) über <code>ncol</code> abfragen, wie auch die Länge des Zeilenvektors (Anzahl der Fälle) über <code>nrow</code>.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="programmiersprache-r.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(datensatz)</span>
<span id="cb34-2"><a href="programmiersprache-r.html#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb34-3"><a href="programmiersprache-r.html#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="programmiersprache-r.html#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(datensatz)</span>
<span id="cb34-5"><a href="programmiersprache-r.html#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 6</span></span></code></pre></div>
<div id="datensatz-indizieren-subsetting" class="section level4" number="2.3.3.1">
<h4><span class="header-section-number">2.3.3.1</span> Datensatz indizieren (subsetting)</h4>
<p>Ein Datensatz ist eine 2-dimensionale Struktur aus Spalten und Fällen, die entsprechend indiziert werden kann.</p>
<ul>
<li>Einzelne Spalten können über <code>$</code> ausgewählt werden.</li>
<li>Einzelne oder mehrere Elemente, ob Spalten oder Zeilen, können über <code>[]</code> ausgewählt werden.</li>
</ul>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="programmiersprache-r.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Spaltenname zur Auswahl einer spezifischen Variable über $</span></span>
<span id="cb35-2"><a href="programmiersprache-r.html#cb35-2" aria-hidden="true" tabindex="-1"></a>datensatz<span class="sc">$</span>sex</span>
<span id="cb35-3"><a href="programmiersprache-r.html#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Mann Frau Mann Mann Frau Mann</span></span>
<span id="cb35-4"><a href="programmiersprache-r.html#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: Frau Mann</span></span>
<span id="cb35-5"><a href="programmiersprache-r.html#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="programmiersprache-r.html#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Spaltenname zur Auswahl einer spezifischen Variable über []</span></span>
<span id="cb35-7"><a href="programmiersprache-r.html#cb35-7" aria-hidden="true" tabindex="-1"></a>datensatz[<span class="st">&quot;sex&quot;</span>]</span>
<span id="cb35-8"><a href="programmiersprache-r.html#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 6 × 1</span></span>
<span id="cb35-9"><a href="programmiersprache-r.html#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sex  </span></span>
<span id="cb35-10"><a href="programmiersprache-r.html#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;fct&gt;</span></span>
<span id="cb35-11"><a href="programmiersprache-r.html#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Mann </span></span>
<span id="cb35-12"><a href="programmiersprache-r.html#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Frau </span></span>
<span id="cb35-13"><a href="programmiersprache-r.html#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Mann </span></span>
<span id="cb35-14"><a href="programmiersprache-r.html#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Mann </span></span>
<span id="cb35-15"><a href="programmiersprache-r.html#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 Frau </span></span>
<span id="cb35-16"><a href="programmiersprache-r.html#cb35-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Mann</span></span>
<span id="cb35-17"><a href="programmiersprache-r.html#cb35-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-18"><a href="programmiersprache-r.html#cb35-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Nach Position auswählen</span></span>
<span id="cb35-19"><a href="programmiersprache-r.html#cb35-19" aria-hidden="true" tabindex="-1"></a>datensatz[<span class="dv">2</span>]</span>
<span id="cb35-20"><a href="programmiersprache-r.html#cb35-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 6 × 1</span></span>
<span id="cb35-21"><a href="programmiersprache-r.html#cb35-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   alter</span></span>
<span id="cb35-22"><a href="programmiersprache-r.html#cb35-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;dbl&gt;</span></span>
<span id="cb35-23"><a href="programmiersprache-r.html#cb35-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1    22</span></span>
<span id="cb35-24"><a href="programmiersprache-r.html#cb35-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2    45</span></span>
<span id="cb35-25"><a href="programmiersprache-r.html#cb35-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3    67</span></span>
<span id="cb35-26"><a href="programmiersprache-r.html#cb35-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4    87</span></span>
<span id="cb35-27"><a href="programmiersprache-r.html#cb35-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5    16</span></span>
<span id="cb35-28"><a href="programmiersprache-r.html#cb35-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6    56</span></span></code></pre></div>
<p>Wir können aber auch mehrer Variablen und sogar Zeilen (Fälle) auswählen. Sobald wir die Werte in <code>[]</code> durch ein Komma trennen, gibt der erste Wert die Zeilen und der zweite die Spalten an. Ohne Komma nur die Spalten.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="programmiersprache-r.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Erste Spalte und erste Zeile</span></span>
<span id="cb36-2"><a href="programmiersprache-r.html#cb36-2" aria-hidden="true" tabindex="-1"></a>datensatz[<span class="dv">1</span>, <span class="dv">1</span>]</span>
<span id="cb36-3"><a href="programmiersprache-r.html#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 1</span></span>
<span id="cb36-4"><a href="programmiersprache-r.html#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sex  </span></span>
<span id="cb36-5"><a href="programmiersprache-r.html#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;fct&gt;</span></span>
<span id="cb36-6"><a href="programmiersprache-r.html#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Mann</span></span>
<span id="cb36-7"><a href="programmiersprache-r.html#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="programmiersprache-r.html#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Erster Fall über alle Spalten (Variablen)</span></span>
<span id="cb36-9"><a href="programmiersprache-r.html#cb36-9" aria-hidden="true" tabindex="-1"></a>datensatz[<span class="dv">1</span>, ]</span>
<span id="cb36-10"><a href="programmiersprache-r.html#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 2</span></span>
<span id="cb36-11"><a href="programmiersprache-r.html#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sex   alter</span></span>
<span id="cb36-12"><a href="programmiersprache-r.html#cb36-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;fct&gt; &lt;dbl&gt;</span></span>
<span id="cb36-13"><a href="programmiersprache-r.html#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Mann     22</span></span>
<span id="cb36-14"><a href="programmiersprache-r.html#cb36-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-15"><a href="programmiersprache-r.html#cb36-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Alle Zeilen in der ersten Spalte</span></span>
<span id="cb36-16"><a href="programmiersprache-r.html#cb36-16" aria-hidden="true" tabindex="-1"></a>datensatz[, <span class="dv">1</span>]</span>
<span id="cb36-17"><a href="programmiersprache-r.html#cb36-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 6 × 1</span></span>
<span id="cb36-18"><a href="programmiersprache-r.html#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sex  </span></span>
<span id="cb36-19"><a href="programmiersprache-r.html#cb36-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;fct&gt;</span></span>
<span id="cb36-20"><a href="programmiersprache-r.html#cb36-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Mann </span></span>
<span id="cb36-21"><a href="programmiersprache-r.html#cb36-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Frau </span></span>
<span id="cb36-22"><a href="programmiersprache-r.html#cb36-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Mann </span></span>
<span id="cb36-23"><a href="programmiersprache-r.html#cb36-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Mann </span></span>
<span id="cb36-24"><a href="programmiersprache-r.html#cb36-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 Frau </span></span>
<span id="cb36-25"><a href="programmiersprache-r.html#cb36-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Mann</span></span>
<span id="cb36-26"><a href="programmiersprache-r.html#cb36-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-27"><a href="programmiersprache-r.html#cb36-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Wir können auch Sequenzen benutzen</span></span>
<span id="cb36-28"><a href="programmiersprache-r.html#cb36-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Ersten drei Fälle über alle Spalten</span></span>
<span id="cb36-29"><a href="programmiersprache-r.html#cb36-29" aria-hidden="true" tabindex="-1"></a>datensatz[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, ]</span>
<span id="cb36-30"><a href="programmiersprache-r.html#cb36-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span id="cb36-31"><a href="programmiersprache-r.html#cb36-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sex   alter</span></span>
<span id="cb36-32"><a href="programmiersprache-r.html#cb36-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;fct&gt; &lt;dbl&gt;</span></span>
<span id="cb36-33"><a href="programmiersprache-r.html#cb36-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Mann     22</span></span>
<span id="cb36-34"><a href="programmiersprache-r.html#cb36-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Frau     45</span></span>
<span id="cb36-35"><a href="programmiersprache-r.html#cb36-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Mann     67</span></span>
<span id="cb36-36"><a href="programmiersprache-r.html#cb36-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-37"><a href="programmiersprache-r.html#cb36-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Da die Spalten Vektoren sind, können wir diese genauso indizieren</span></span>
<span id="cb36-38"><a href="programmiersprache-r.html#cb36-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Erster Fall im Vektor zu Geschlecht</span></span>
<span id="cb36-39"><a href="programmiersprache-r.html#cb36-39" aria-hidden="true" tabindex="-1"></a>datensatz<span class="sc">$</span>sex[<span class="dv">1</span>]</span>
<span id="cb36-40"><a href="programmiersprache-r.html#cb36-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] Mann</span></span>
<span id="cb36-41"><a href="programmiersprache-r.html#cb36-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Levels: Frau Mann</span></span>
<span id="cb36-42"><a href="programmiersprache-r.html#cb36-42" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb36-43"><a href="programmiersprache-r.html#cb36-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Letzten drei Fälle in der Variable alter</span></span>
<span id="cb36-44"><a href="programmiersprache-r.html#cb36-44" aria-hidden="true" tabindex="-1"></a>datensatz<span class="sc">$</span>alter[<span class="dv">4</span><span class="sc">:</span><span class="fu">length</span>(datensatz<span class="sc">$</span>alter)]</span>
<span id="cb36-45"><a href="programmiersprache-r.html#cb36-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 87 16 56</span></span>
<span id="cb36-46"><a href="programmiersprache-r.html#cb36-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-47"><a href="programmiersprache-r.html#cb36-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Die Spalten sex und alter</span></span>
<span id="cb36-48"><a href="programmiersprache-r.html#cb36-48" aria-hidden="true" tabindex="-1"></a>datensatz[<span class="fu">c</span>(<span class="st">&quot;sex&quot;</span>, <span class="st">&quot;alter&quot;</span>)]</span>
<span id="cb36-49"><a href="programmiersprache-r.html#cb36-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 6 × 2</span></span>
<span id="cb36-50"><a href="programmiersprache-r.html#cb36-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sex   alter</span></span>
<span id="cb36-51"><a href="programmiersprache-r.html#cb36-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;fct&gt; &lt;dbl&gt;</span></span>
<span id="cb36-52"><a href="programmiersprache-r.html#cb36-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 Mann     22</span></span>
<span id="cb36-53"><a href="programmiersprache-r.html#cb36-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 Frau     45</span></span>
<span id="cb36-54"><a href="programmiersprache-r.html#cb36-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Mann     67</span></span>
<span id="cb36-55"><a href="programmiersprache-r.html#cb36-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Mann     87</span></span>
<span id="cb36-56"><a href="programmiersprache-r.html#cb36-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 Frau     16</span></span>
<span id="cb36-57"><a href="programmiersprache-r.html#cb36-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 Mann     56</span></span></code></pre></div>
</div>
</div>
<div id="listen-list" class="section level3" number="2.3.4">
<h3><span class="header-section-number">2.3.4</span> Listen (list)</h3>
<ul>
<li>Listen → in SPSS nicht vorhanden
<ul>
<li>Kombination mehrerer Objekte</li>
<li>Listen können beliebige Objekte enthalten, auch Objekte verschiedenen Typs.</li>
<li>Im Unterschied zu Datensätzen können auch Objekte unterschiedlicher Länge gespeichert werden.</li>
</ul></li>
</ul>
<p>Ein weiterer Datentyp ist <code>list</code>. Während Datensätze schon aus verschiedenen Vektoren bestehen können, lassen sich diese in Listen auch in <strong>verschiedenen Längen</strong> ablegen. Die meisten Objekte die wir im Verlauf unserer R Anwendung kennenlernen werden, sind damit Listen (z.B. die Ergebnisse eines Regressionsmodells werden als Liste gespeichert). Wir müssen aber nur mit ihnen umgehen können und sie verstehen. Wir werden sie praktisch nie selbst erstellen müssen.</p>
<p>In einem ersten Schritt wollen wir dennoch mit der Funktion <code>list()</code> eine Liste definieren. So können wir schrittweise verstehen, welche Eigenschaften Listen besitzen.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="programmiersprache-r.html#cb37-1" aria-hidden="true" tabindex="-1"></a>list1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="st">&quot;a&quot;</span>, <span class="fu">c</span>(<span class="fl">1.22</span>, <span class="dv">2</span>, <span class="fl">3.44</span>, <span class="dv">4</span>, <span class="dv">5</span>), <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>))</span>
<span id="cb37-2"><a href="programmiersprache-r.html#cb37-2" aria-hidden="true" tabindex="-1"></a>list1</span>
<span id="cb37-3"><a href="programmiersprache-r.html#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb37-4"><a href="programmiersprache-r.html#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span>
<span id="cb37-5"><a href="programmiersprache-r.html#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb37-6"><a href="programmiersprache-r.html#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb37-7"><a href="programmiersprache-r.html#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span>
<span id="cb37-8"><a href="programmiersprache-r.html#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb37-9"><a href="programmiersprache-r.html#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb37-10"><a href="programmiersprache-r.html#cb37-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.22 2.00 3.44 4.00 5.00</span></span>
<span id="cb37-11"><a href="programmiersprache-r.html#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb37-12"><a href="programmiersprache-r.html#cb37-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb37-13"><a href="programmiersprache-r.html#cb37-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  TRUE FALSE FALSE</span></span></code></pre></div>
<p>Wir haben mit der Variable <code>list1</code> eine Liste erstellt, die als Elemente einen <code>numeric</code> Vektor mit einer Zahlenreihe, einen <code>character</code> Vektor mit der Länge 1 (L1), einen <code>numeric</code>Vektor mit Kommazahlen und einen <code>logical</code> Vektor speichert.</p>
<p>Listen können wie Vektoren indiziert werden.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="programmiersprache-r.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Erstes Element in der Liste (erster Vektor)</span></span>
<span id="cb38-2"><a href="programmiersprache-r.html#cb38-2" aria-hidden="true" tabindex="-1"></a>list1[<span class="dv">1</span>]</span>
<span id="cb38-3"><a href="programmiersprache-r.html#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb38-4"><a href="programmiersprache-r.html#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span>
<span id="cb38-5"><a href="programmiersprache-r.html#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="programmiersprache-r.html#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Zweites Element (zweiter Vektor)</span></span>
<span id="cb38-7"><a href="programmiersprache-r.html#cb38-7" aria-hidden="true" tabindex="-1"></a>list1[<span class="dv">2</span>]</span>
<span id="cb38-8"><a href="programmiersprache-r.html#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb38-9"><a href="programmiersprache-r.html#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span>
<span id="cb38-10"><a href="programmiersprache-r.html#cb38-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-11"><a href="programmiersprache-r.html#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Drittes Element (dritter Vektor)</span></span>
<span id="cb38-12"><a href="programmiersprache-r.html#cb38-12" aria-hidden="true" tabindex="-1"></a>list1[<span class="dv">3</span>]</span>
<span id="cb38-13"><a href="programmiersprache-r.html#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb38-14"><a href="programmiersprache-r.html#cb38-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.22 2.00 3.44 4.00 5.00</span></span></code></pre></div>
<p>Häufig sind die Elemente in einer Liste als Variablen benannt und können entsprechend wie in einem Datensatz über <code>$</code> abgerufen werden.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="programmiersprache-r.html#cb39-1" aria-hidden="true" tabindex="-1"></a>list2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">var1 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb39-2"><a href="programmiersprache-r.html#cb39-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">var2 =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>),</span>
<span id="cb39-3"><a href="programmiersprache-r.html#cb39-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">var3 =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>),</span>
<span id="cb39-4"><a href="programmiersprache-r.html#cb39-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">var4 =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1</span>, <span class="at">to =</span> <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">5</span>))</span>
<span id="cb39-5"><a href="programmiersprache-r.html#cb39-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-6"><a href="programmiersprache-r.html#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Ganze Liste abrufen</span></span>
<span id="cb39-7"><a href="programmiersprache-r.html#cb39-7" aria-hidden="true" tabindex="-1"></a>list2</span>
<span id="cb39-8"><a href="programmiersprache-r.html#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $var1</span></span>
<span id="cb39-9"><a href="programmiersprache-r.html#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span>
<span id="cb39-10"><a href="programmiersprache-r.html#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb39-11"><a href="programmiersprache-r.html#cb39-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $var2</span></span>
<span id="cb39-12"><a href="programmiersprache-r.html#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</span></span>
<span id="cb39-13"><a href="programmiersprache-r.html#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb39-14"><a href="programmiersprache-r.html#cb39-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $var3</span></span>
<span id="cb39-15"><a href="programmiersprache-r.html#cb39-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  TRUE FALSE</span></span>
<span id="cb39-16"><a href="programmiersprache-r.html#cb39-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb39-17"><a href="programmiersprache-r.html#cb39-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $var4</span></span>
<span id="cb39-18"><a href="programmiersprache-r.html#cb39-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1]  1  6 11 16 21 26 31 36 41 46 51 56 61 66 71 76 81 86 91 96</span></span>
<span id="cb39-19"><a href="programmiersprache-r.html#cb39-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-20"><a href="programmiersprache-r.html#cb39-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Aufruf der ersten Variable mit ihrem Namen var1</span></span>
<span id="cb39-21"><a href="programmiersprache-r.html#cb39-21" aria-hidden="true" tabindex="-1"></a>list2<span class="sc">$</span>var1</span>
<span id="cb39-22"><a href="programmiersprache-r.html#cb39-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span>
<span id="cb39-23"><a href="programmiersprache-r.html#cb39-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-24"><a href="programmiersprache-r.html#cb39-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Aufruf der zweiten Variable mit ihrem Namen var2</span></span>
<span id="cb39-25"><a href="programmiersprache-r.html#cb39-25" aria-hidden="true" tabindex="-1"></a>list2<span class="sc">$</span>var2</span>
<span id="cb39-26"><a href="programmiersprache-r.html#cb39-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</span></span>
<span id="cb39-27"><a href="programmiersprache-r.html#cb39-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-28"><a href="programmiersprache-r.html#cb39-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Objektbestimmung</span></span>
<span id="cb39-29"><a href="programmiersprache-r.html#cb39-29" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(list2)</span>
<span id="cb39-30"><a href="programmiersprache-r.html#cb39-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;list&quot;</span></span></code></pre></div>
<p>Im <code>Environment</code> gibt sich folgende Datenstruktur.</p>
<p><img src="Bilder/Liste.png" width="75%" style="display: block; margin: auto;" /></p>
<p><strong>Wichtig!</strong> Elemente in Listen können unendlich “gestapelt” werden und folgend mit einer Verschränkung des <code>[]</code> Operator “entpackt” werden.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="programmiersprache-r.html#cb40-1" aria-hidden="true" tabindex="-1"></a>list3 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">list1 =</span> list1,</span>
<span id="cb40-2"><a href="programmiersprache-r.html#cb40-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">list2 =</span> <span class="fu">list</span>(<span class="at">var1 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>), </span>
<span id="cb40-3"><a href="programmiersprache-r.html#cb40-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">var2 =</span> <span class="st">&quot;a&quot;</span>),</span>
<span id="cb40-4"><a href="programmiersprache-r.html#cb40-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">var1 =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>)</span>
<span id="cb40-5"><a href="programmiersprache-r.html#cb40-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-6"><a href="programmiersprache-r.html#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Liste1 aus Liste3 entpacken</span></span>
<span id="cb40-7"><a href="programmiersprache-r.html#cb40-7" aria-hidden="true" tabindex="-1"></a>list3<span class="sc">$</span>list1</span>
<span id="cb40-8"><a href="programmiersprache-r.html#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb40-9"><a href="programmiersprache-r.html#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span>
<span id="cb40-10"><a href="programmiersprache-r.html#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb40-11"><a href="programmiersprache-r.html#cb40-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb40-12"><a href="programmiersprache-r.html#cb40-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span>
<span id="cb40-13"><a href="programmiersprache-r.html#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb40-14"><a href="programmiersprache-r.html#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb40-15"><a href="programmiersprache-r.html#cb40-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.22 2.00 3.44 4.00 5.00</span></span>
<span id="cb40-16"><a href="programmiersprache-r.html#cb40-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb40-17"><a href="programmiersprache-r.html#cb40-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb40-18"><a href="programmiersprache-r.html#cb40-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1]  TRUE FALSE FALSE</span></span>
<span id="cb40-19"><a href="programmiersprache-r.html#cb40-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-20"><a href="programmiersprache-r.html#cb40-20" aria-hidden="true" tabindex="-1"></a><span class="co"># var1 aus liste1 in liste3 entpacken</span></span>
<span id="cb40-21"><a href="programmiersprache-r.html#cb40-21" aria-hidden="true" tabindex="-1"></a>list3<span class="sc">$</span>list1[<span class="dv">1</span>]</span>
<span id="cb40-22"><a href="programmiersprache-r.html#cb40-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb40-23"><a href="programmiersprache-r.html#cb40-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span>
<span id="cb40-24"><a href="programmiersprache-r.html#cb40-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-25"><a href="programmiersprache-r.html#cb40-25" aria-hidden="true" tabindex="-1"></a><span class="co"># var2 aus liste2 in liste3 entpacken</span></span>
<span id="cb40-26"><a href="programmiersprache-r.html#cb40-26" aria-hidden="true" tabindex="-1"></a>list3<span class="sc">$</span>list2<span class="sc">$</span>var2</span>
<span id="cb40-27"><a href="programmiersprache-r.html#cb40-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;a&quot;</span></span>
<span id="cb40-28"><a href="programmiersprache-r.html#cb40-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-29"><a href="programmiersprache-r.html#cb40-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Erster Wert aus var1 in list1 über list3 entpacken</span></span>
<span id="cb40-30"><a href="programmiersprache-r.html#cb40-30" aria-hidden="true" tabindex="-1"></a>list3<span class="sc">$</span>list1[[<span class="dv">1</span>]][<span class="dv">1</span>]</span>
<span id="cb40-31"><a href="programmiersprache-r.html#cb40-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span></code></pre></div>
</div>
<div id="weitere-datentypen" class="section level3" number="2.3.5">
<h3><span class="header-section-number">2.3.5</span> Weitere Datentypen</h3>
<p>R kennt noch zwei weitere Datentypen (Matrizen und Arrays), die wir in diesem Kurs ausklammern werden. Sofern interesse besteht, verweisen wir auf das Buch von Hadley Wickham: <a href="https://adv-r.hadley.nz/index.html">Advanced R</a>.</p>
</div>
</div>
<div id="pipe-operatoren" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Pipe Operatoren</h2>
<p>In Kapitel 2.2.1 konnten wir schon sehen, dass es schnell unübersichtlich werden kann, wenn wir Funktionen ineinander verschachteln. Vor allem bei der Datenverarbeitung entsteht sehr schnell unübersichtlicher Code.</p>
<p>Hierfür gibt es in R eine “ganz einfache” Lösung - <code>Pipes</code>. So lassen sich Sequenzen von Funktionen sehr elegant abbilden. Eine <code>Pipe</code> zeigt sich immer durch den <code>%&gt;%</code> Operator an. Um auf diesen zugreifen zu können, müssen wir eig. das Paket <em>magrittr</em> laden. Da aber die Packete des tidyverse den Operator automatisch laden, müssen wir zumindest in seiner einfachsten Form keinen zusätzlichen Aufwand betreiben. Nun wollen wir aber mit zwei weiteren Formen des Pipe-Operators arbeiten (<code>%$%</code> und <code>%T&gt;%</code>), die uns nur über das Laden von magrittr zur Verfügung gestellt werden.</p>
<pre><code>install.packages(&quot;magrittr&quot;)
library(magrittr)</code></pre>
<div id="operator" class="section level3 unnumbered">
<h3><code>%&gt;% Operator</code></h3>
<p><strong>Tipp:</strong> Um schnell auf den Pipe Operator zugreifen zu können, bietet sich das Tastenkürzel <code>cmd bzw. strg</code> + <code>up</code> + <code>M</code> an.</p>
<p>Um einen ersten Einstieg zu schaffen, greifen auf unser Beispiel aus Kapitel 2.2.1 zurück. Hier haben wir den Vektor <code>c(1.11, 1.22, 1.33, 1.44, 1.55)</code>, welcher in var1 gespeichert wurde, gerundet.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="programmiersprache-r.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vektor speichern in var1</span></span>
<span id="cb42-2"><a href="programmiersprache-r.html#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="programmiersprache-r.html#cb42-3" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.11</span>, <span class="fl">1.22</span>, <span class="fl">1.33</span>, <span class="fl">1.44</span>, <span class="fl">1.55</span>)</span>
<span id="cb42-4"><a href="programmiersprache-r.html#cb42-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-5"><a href="programmiersprache-r.html#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="co"># var1 runden</span></span>
<span id="cb42-6"><a href="programmiersprache-r.html#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="programmiersprache-r.html#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(var1, <span class="at">digits =</span> <span class="dv">1</span>)</span>
<span id="cb42-8"><a href="programmiersprache-r.html#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.1 1.2 1.3 1.4 1.6</span></span></code></pre></div>
<p>In diesem Stadium ist unser Code noch sehr übersichtlich. Wir können aber auch schon jetzt eine <code>Pipe</code> zu Demonstrationszwecken bilden.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="programmiersprache-r.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vektor speichern in var1</span></span>
<span id="cb43-2"><a href="programmiersprache-r.html#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="programmiersprache-r.html#cb43-3" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.11</span>, <span class="fl">1.22</span>, <span class="fl">1.33</span>, <span class="fl">1.44</span>, <span class="fl">1.55</span>)</span>
<span id="cb43-4"><a href="programmiersprache-r.html#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="programmiersprache-r.html#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co"># var1 runden</span></span>
<span id="cb43-6"><a href="programmiersprache-r.html#cb43-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-7"><a href="programmiersprache-r.html#cb43-7" aria-hidden="true" tabindex="-1"></a>var1 <span class="sc">%&gt;%</span> </span>
<span id="cb43-8"><a href="programmiersprache-r.html#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">1</span>)</span>
<span id="cb43-9"><a href="programmiersprache-r.html#cb43-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.1 1.2 1.3 1.4 1.6</span></span></code></pre></div>
<p>Der Effekt ist für unser Beispiel klein, aber die Idee ist klar. Wir schreiben mit der <code>Pipe</code> also Funktionen nicht mehr als <code>f(x)</code> sondern als <code>x %&gt;% f() bzw. x %&gt;% f</code>. Wir reihen also unsere Funktionen aneinander, wir verschachteln sie nicht mehr.</p>
<p>Im nächsten Schritt wollen wir unseren gerundeten Vektor in eine weitere Funktion übergeben, dann wird auch der Effekt dieses Vorgehens ersichtlich.</p>
<p>Wir rufen zusätzlich mit <code>head()</code> die ersten drei Elemente unseres Vektors auf.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="programmiersprache-r.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vektor speichern in var1</span></span>
<span id="cb44-2"><a href="programmiersprache-r.html#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="programmiersprache-r.html#cb44-3" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.11</span>, <span class="fl">1.22</span>, <span class="fl">1.33</span>, <span class="fl">1.44</span>, <span class="fl">1.55</span>)</span>
<span id="cb44-4"><a href="programmiersprache-r.html#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="programmiersprache-r.html#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="co"># var1 runden und die ersten drei Elemente abrufen</span></span>
<span id="cb44-6"><a href="programmiersprache-r.html#cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-7"><a href="programmiersprache-r.html#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">round</span>(var1, <span class="at">digits =</span> <span class="dv">1</span>), <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb44-8"><a href="programmiersprache-r.html#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.1 1.2 1.3</span></span>
<span id="cb44-9"><a href="programmiersprache-r.html#cb44-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-10"><a href="programmiersprache-r.html#cb44-10" aria-hidden="true" tabindex="-1"></a><span class="co"># var1 runden und die ersten drei Elemente abrufen - Pipe</span></span>
<span id="cb44-11"><a href="programmiersprache-r.html#cb44-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-12"><a href="programmiersprache-r.html#cb44-12" aria-hidden="true" tabindex="-1"></a>var1 <span class="sc">%&gt;%</span> </span>
<span id="cb44-13"><a href="programmiersprache-r.html#cb44-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb44-14"><a href="programmiersprache-r.html#cb44-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb44-15"><a href="programmiersprache-r.html#cb44-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.1 1.2 1.3</span></span></code></pre></div>
<p>Wie wir sehen können, wird der Vektor var1 durch die Funktionen “weitergegeben.” Tatsächlich gibt jede Funktion ihren Output, also ihr Ergebnis, an die nächste weiter. Im ersten Beispiel passiert das von “innen nach außen.” Damit wird es schnell unübersichtlich, zumal anstrengend zu schreiben. In der <code>Pipe</code> hingegen, erzeugen wir eine lineare Übergabe von Funktion zu Funktion.</p>
<p>Der Ablauf der <code>Pipe</code> in Kürze:</p>
<ol style="list-style-type: decimal">
<li>Der Vektor aus var1 wird also an die Funktion <code>round()</code> weitergegeben und in dieser auf eine Nachkommastelle gerundet. Damit haben wir an diesem Punkt den Output: <code>c(1.1, 1.2, 1.3, 1.4, 1.6)</code>.</li>
<li>Im nächsten Schritt wird dieser Output an <code>head()</code> übergeben. In <code>head()</code> rufen wir nur die ersten drei Elemente ab, also <code>c(1.1, 1.2, 1.3)</code>.</li>
</ol>
<p><strong>Vorteile:</strong></p>
<ul>
<li>Unser Code ist lesbarer</li>
<li>Wir müssen keine unnötigen Variablen definieren</li>
</ul>
<p>Wir können diesen Prozess auch mit dem Platzhalter-Operator <code>.</code> veranschaulichen. Dieser steht immer für den Output aus der letzten Funktion.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="programmiersprache-r.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vektor speichern in var1</span></span>
<span id="cb45-2"><a href="programmiersprache-r.html#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="programmiersprache-r.html#cb45-3" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.11</span>, <span class="fl">1.22</span>, <span class="fl">1.33</span>, <span class="fl">1.44</span>, <span class="fl">1.55</span>)</span>
<span id="cb45-4"><a href="programmiersprache-r.html#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="programmiersprache-r.html#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="co"># var1 runden und die ersten drei Elemente abrufen - Pipe</span></span>
<span id="cb45-6"><a href="programmiersprache-r.html#cb45-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-7"><a href="programmiersprache-r.html#cb45-7" aria-hidden="true" tabindex="-1"></a>var1 <span class="sc">%&gt;%</span> </span>
<span id="cb45-8"><a href="programmiersprache-r.html#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="at">x =</span> ., <span class="at">digits =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb45-9"><a href="programmiersprache-r.html#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">x =</span> ., <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb45-10"><a href="programmiersprache-r.html#cb45-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.1 1.2 1.3</span></span></code></pre></div>
<p>Ziemlich schick, nicht wahr? Der Platzhalter lässt sich aber auch an jeder anderen Stelle in der Funktion als Wertcontainer einsetzen.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="programmiersprache-r.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vektor speichern in var1</span></span>
<span id="cb46-2"><a href="programmiersprache-r.html#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="programmiersprache-r.html#cb46-3" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.11</span>, <span class="fl">1.22</span>, <span class="fl">1.33</span>, <span class="fl">1.44</span>, <span class="fl">1.55</span>)</span>
<span id="cb46-4"><a href="programmiersprache-r.html#cb46-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-5"><a href="programmiersprache-r.html#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="co"># var1 runden und die ersten drei Elemente abrufen - Pipe</span></span>
<span id="cb46-6"><a href="programmiersprache-r.html#cb46-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-7"><a href="programmiersprache-r.html#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">%&gt;%</span> </span>
<span id="cb46-8"><a href="programmiersprache-r.html#cb46-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(var1, <span class="at">digits =</span> .) <span class="sc">%&gt;%</span> </span>
<span id="cb46-9"><a href="programmiersprache-r.html#cb46-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">x =</span> ., <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb46-10"><a href="programmiersprache-r.html#cb46-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 1.1 1.2 1.3</span></span></code></pre></div>
<p><strong>Wichtig!</strong> Wollen wir ohne einen Platzhalter arbeiten, muss das erste Argument der nachfolgenden Funktion den Output der vorherigen aufnehmen können - i.d.R. <code>x = Daten (Datensatz oder Variablen)</code>.</p>
<p>In den meisten Fällen ist auch das Objekt, welches übergeben wird, gleichzeitig das erste Argument der nächsten Funktion (vor allem für die tidyverse-Funktionen), so dass wir diesen Platzhalter selten brauchen werden. Wir haben alle Funktionen in diesem Kurs nach diesem Kriterium ausgewählt, um eine möglichst reibungslose Einarbeitung zu ermöglichen.</p>
<p><strong>Anmerkung:</strong> Der Verkettung von Funktionen ist damit praktisch kein Limit gesetzt, außer ein paar Regeln an die man sich halten sollte.</p>
<p><code>Pipes</code> sollten nicht genutzt werden, wenn</p>
<ol style="list-style-type: decimal">
<li>die <code>Pipe</code> länger als 10 Schritte wäre,</li>
<li>mehrere Inputs oder Outputs benötigt werden,</li>
<li>eine komplexe Objektstruktur das Ziel ist.</li>
</ol>
</div>
<div id="operator-1" class="section level3 unnumbered">
<h3><code>%$% Operator</code></h3>
<p>Für Funktionen, die auf Variablenebene arbeiten und keinen Datensatz als Dateninput erlauben, gibt es den <code>%$%</code> Operator.</p>
<p><strong>Wichtig!</strong> Wir brauchen diesen Operator aber nur für ganz wenige Funktionen. Die meisten Funktionen die auf Variablenebene arbeiten, besitzen gleichzeitig auch als erstes Argument eine Datensatz-Schnittstelle - <code>x = Datensatz</code>. Sie greifen dann über das zweite Argument auf die Variablen in diesem Datensatz zu.</p>
<p>Der <code>%$%</code> Operator ermöglicht letztlich, dass wir gezielt einzelne Variablen aus dem Datensatz in der nächsten Funktion anwählen können, auch wenn es keine Datensatz-Schnittstelle gibt.</p>
<p>In unserem Beispiel benötigt die Funktion <code>ts.plot</code>, als Grafik für Zeitachsenmessungen, eine Variable als Input - <code>x = Variable</code>. Es darf also kein Datensatz eingespeist werden. Folglich brauchen wir den <code>%$%</code> Operator, um auf Variablenebene operieren zu können.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="programmiersprache-r.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Vektoren in Datensatz speichern</span></span>
<span id="cb47-2"><a href="programmiersprache-r.html#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="programmiersprache-r.html#cb47-3" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>)</span>
<span id="cb47-4"><a href="programmiersprache-r.html#cb47-4" aria-hidden="true" tabindex="-1"></a>var2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">4</span>)</span>
<span id="cb47-5"><a href="programmiersprache-r.html#cb47-5" aria-hidden="true" tabindex="-1"></a>ds1 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(var1, var2)</span>
<span id="cb47-6"><a href="programmiersprache-r.html#cb47-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-7"><a href="programmiersprache-r.html#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Mit dem %$% Operator</span></span>
<span id="cb47-8"><a href="programmiersprache-r.html#cb47-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-9"><a href="programmiersprache-r.html#cb47-9" aria-hidden="true" tabindex="-1"></a>ds1 <span class="sc">%$%</span></span>
<span id="cb47-10"><a href="programmiersprache-r.html#cb47-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ts.plot</span>(var1)</span></code></pre></div>
<p><img src="RWorkshop_files/figure-html/unnamed-chunk-51-1.png" width="672" /></p>
</div>
<div id="t-operator" class="section level3 unnumbered">
<h3><code>%T&gt;% Operator</code></h3>
<p>Dieser Operator ermöglicht es eine <code>Pipe</code> auch bei Funktionen ohne “inhaltlichen” Output weiterzuführen. Grafiken haben letztlich keinen Output außer der Grafikausgabe und würden so eine Verkettung von Funktionen beenden. Wollen wir aber zu unserer Grafik noch einen “inhaltlichen” Output, brauchen wir den <code>%T&gt;%</code> Operator. Dieser wird hinter den letzten Output geschrieben, auf den wir uns beziehen wollen. Unser Wert wird damit auch an die übernächste Funktion “weitergegeben.”</p>
<p>Es wird also immer auf den linken Wert neben dem <code>%T&gt;%</code> Operator zugegriffen und dieser an alle folgenden Funktionen “weitergegeben.”</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="programmiersprache-r.html#cb48-1" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">1.11</span>, <span class="fl">1.22</span>, <span class="fl">1.33</span>, <span class="fl">1.44</span>, <span class="fl">1.55</span>)</span>
<span id="cb48-2"><a href="programmiersprache-r.html#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="programmiersprache-r.html#cb48-3" aria-hidden="true" tabindex="-1"></a>var1 <span class="sc">%&gt;%</span> </span>
<span id="cb48-4"><a href="programmiersprache-r.html#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>) <span class="sc">%T&gt;%</span></span>
<span id="cb48-5"><a href="programmiersprache-r.html#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb48-6"><a href="programmiersprache-r.html#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">3</span>) </span></code></pre></div>
<p><img src="RWorkshop_files/figure-html/unnamed-chunk-52-1.png" width="672" /></p>
<pre><code>#&gt; [1] 1.11 1.22 1.33</code></pre>
<p>So können wir uns einen Grafikoutput, wie auch die ersten drei Elemente von unserem gerundeten Vektor ausgeben lassen.</p>
<p>Hervorangend! Jetzt können wir mit der Bearbeitung unseres Datensatzes beginnen.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rstudio.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="datenverarbeitung.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
